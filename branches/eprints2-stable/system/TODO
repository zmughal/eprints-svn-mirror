

Tidied up todo list.

Big New Features
 * Modular Controls [2.4]
 * Improved Indexing [2.4/2.3]
 * Multilingual Browser Negotiation [2.3]
    - fix apache conf to add this (and disable vlit) on MLing servers.
    - add code to Session.pm
    - mutlihosts for different languages?
 * HTTPS Support [2.4]
 * perl 5.8??

Pre-release issues
 * Bug in cmd line created user code: can't see /perl/users/home!
 * Bug in authez vs multilang from browser
 * GRANT ALTER ON ep2stable.* TO ep2stable@localhost; in update!
 * make status page show indexer on/off last did stuff.
 * remove STDERR prints/make them ->log() instead
 * improve search to have a neater config. 
 * Change config for searches
 . mimetex ... better than the built in one??
 * nestids in subjects -> just plain stupid?
 * clean up browse views and write better comments around the
   config

Documentation
 * deprecated input_style=textarea
 * HowTo's
    - Migrate archives to new machines
    - Register for OAI
 * how to do OL and UL views

Bugs
 * export_xml broken for GDOME
 * can't change username?
 * bug in refine search on defaulted booleans?
 * author with name " " is not treated as null in input
 * frequency of mailings: default to NEVER?
 * Investigate: (subjects_self->{merge})(ANY)
 * does not work except in root of filesystem.
 * interdepentant verifies are a pain - don't get run
    until LAST page of edit meta.

Wishlist
 * Ted N. wants persistent _named_ urls for articles.
 * Linkbatton renderer?
 * Latest page (limit of n results?)- steal from ECS.
 * Various "form letters" from the editor.
 * Make a permission for users to be able to edit their OWN records.
 

Metadata Fields
 ? New field type "time" for datetime SQL fields.
 * Add XHTML field renderer with list of legal tags.

Bulk Import / Export
 * abstract mapping functions.
    - RIS
    - bibtex
    - XML
    - other...
 * Generic bulk import system
    - linked to textarea for user area
    - with a script
 * Generic bulk export system
    - linked to search results
    - with a script

OAI

 * Extra sets in OAI: By ID field, or by configurable serialised search. 
    Even "subject" should be configured. so "subject:blgy:biophys" 
    or "username_id:cjg" or "stuffjackwants" which is a search of 
    it's own. Searches can of course be modified with from and to 
    dates from OAI.
 * Add a filter - eg. to limit ever showing records to post 2000.


Database

 * Turn docid into an int (no minor feat) [longterm]
 * check Database.pm for any sql without escaping. and 
    SearchExpression.pm and SearchField.pm 


Browse Views

 * Second level views - eg. /group/year/ - /view/iam/2001.html


Search

 * Clean up description of date search
 * Make nice ordering for titles so "the" does not affect order
      + similar in other fields? names?
 * Add congiguration via cookie for n results, citation style &
    default search.
 - Don't index words in inbox/buffer? [maybe/maybe not]
 * Add search-by-id
 * Fix email searches
 - reconsider max time for caches eg. 30 for latest?
 - Phrase searching
 - Improved steming.
 - Add a get_problems method to searchexp which returns a list
    of problems. This should run by default when verifying "search"
    type fields?
 - Create buffer uses VARCHAR for a key, not.. er... INT where possible.
   eg. for subject and document


Command Line Tools
 
 * generate_views needs to say what order stuff is in. [kinda hard, it
     uses a custom order]
 * Clean up export XML command. [XML headers etc.]
 * For generate_views, subscriptions, abstracts etc. Maybe have an
          archiveid of ALL which runs the script once for each archive?
      + or allow more than one.
 . Make tools run as "eprints" if they are running as "root". 
    -Forces "Taint" checking which certain eprints bits just can't darn
       handle.

 
Submission Page

 - Names+Extra help per page 
 - Extra pages which are user defined.
 - Make a simple version of file upload for archives which only want one
          (PDF) document with no security etc.
 

Clean up
 - remove die statements
 - paint 4th bridge: remove all cjg statements

CGI Tools
 - List of admin/editors

0------------------------------------------------0
 
 
 
 


 Other Stuff
 
 * Override auth option.
 
 +       Make a way of .css working in both https and http - possibly
         a new entity which does something different on the https server.
 
 - CSS searchfield input.
 
 + Option for "subjects" to not appear with heirarchy when presented
  in input forms.
 
 - Turn Multiple input fields into <ol>'s. maybe?
 
 . Commentary summary page (Psycoloquy style)
 
 + Rename "create_foo" on DataObjs onto just "create".
 
 + Stop refering directly to System::Settings - allow archive specific
  tweaks.
 
 - Remove all #cjg comments which denote issues.
 
 + cmp methods : is they still needed?
 
 + Make all needed get()'s map it instead so ready for that 
  1,000,000 papers.
 
 +  List of editors?
 
 - langid's -> validate they is correct (in multilang)
 
 + No new eprints when disk fullish
 
 + Bad Things(tm) will happen if a session has a langid which is not a 
  supported langid - can this happen?
 
 +  robots.txt file
 
 +  Check Referer on LatexCache.?
 
 ?  setlang - show all langs, flag supported.
 
 -  Debugging helpers - make session and searchexp notice if they are 
  DESTROY'd without being terminate/disposed.
 
 - PDF Mollycoddler ( Serve PDF in a special way which avoids certain 
  bugs in the plugin )
 
 - CSS Mollycoddler ( Serve an empty CSS if a 404 is encountered when
  looking for a .css file - to help out NS4.)
 
 - Make some eprint types require different/no document types, eg. 
  books.
 
 DOCUMENTATION ============================================================
 
 
 - Recommended MaxClients
 
 
 FORMALLY COMMENT CODE
 - Archive.pm
 - Auth.pm
 - Config.pm
 - DataObj.pm
 - DataSet.pm
 - Database.pm
 - Document.pm
 - EPrint.pm
 - ImportXML.pm
 - Language.pm
 - Latex.pm
 - MetaField.pm
 * OpenArchives.pm
 - RequestWrapper.pm
 * SearchExpression.pm
 * SearchField.pm
 * Session.pm
 * Subject.pm
 * SubmissionForm.pm
 * Subscription.pm
 * SystemSettings.pm
 * User.pm
 * UserForm.pm
 * UserPage.pm
 * Utils.pm
 * VLit.pm
 
 HOW-TOS
 - produce DOM.
 - add a type
 - remove a type
 - add an OAI format
 - add a usertype
 - make latexy magic happen
 - adding a document type
 - adding a search on another page
 
 -  update views changes (citation no longer forces layout->none)
 
 
 WISHLIST =================================================================
 
 - Paged Metadata in submission form.
 - Content Negotiation with Browser
 - Alternate config files for simple english only archives.
 - Multiple Initial Configurations (eg Pre-print Archive, Institutional 
  Archive etc, data archive)
 - MathML support
 - Peer Review
 - Mirroring
 - Citation Scanning
 - "People who read this eprint also read..."
 - OpenURL support (?)
 - Probity (see www.probity.org for more info)
 - CD-ROM publisher - create ISO of an archive.
 - CD-ROM distribution of software.
 
 DONE ====================================================================
 # remove => => from all bins (man line)
 # add --version to all bins. 
 -  Option to make views ordered/unordered lists?
 - Stop asking for "userid" as part of EPrint->create (and set it
  seperately)
 - Make EPrint new have $dataset as the last value so it cat act
  like other Dataobj new methods.
 - no_export property to indicate the field should not be exported
  as XML. (eg. for subject ancestors) [ actually called export_as_xml ]
 - Sort out message at top of search results to be a phrase.
 - Subscriptions - editing
 - Subscriptions - sending
 - Subscriptions - not correctly ordered!
 -       OAI2.0 support
 - Make subscriptions have "order".
 - SearchExpression "describer" to print search expression
  in a human readable manner. Use this on search results page.
  Possibly with "ignored words"
 - Add optional param prefix to searchexp, searchfield - from and render
  form.
 * add "pageid"'s to all pages.
 * Make EPrint commit regen abstract page if in main archive/deletion?
  - done but only when edit by the cgi/staff/editeprint page.
 + Ordervalues for sets & subjects being on their NAME not value? 
 * Turn succeeds, replacedby & commentary into "int" rather than "text"
  [done in pm but needs to be done by "upgrade"]
 * Make "stages" in sub form over-ridable.
 **  Do not put SystemSettings in the distribution!
 +  Join GNU.
 - Add "does record match search" function.
 + Remove gif's
 + Sort subject input fields
 - Make generate_apacheconf do the whole thing each time, rather than
          on a per archive basis.
 - Add a no_clone property to flag fields which should not be copied
  when a record is cloned. [ called can_clone, now ]
 - Subscriptions - importing from eprints v1.
 + Add boolean:mailempty to subscriptions
 + Add search:editperms, boolean:mailempty, set:frequency to user
  dataset.
 - New 404 config option.
 + Option: Mail empty subscriptions - yes/no. (and make it actually work)
 - Set default values for searches
 + field property to stop SQL indexing. - will disable EX searching [does
          not disable it, but darn it might be slow]
 + Remove editorsubjects from user dataset.
 + Log last sent time for week/month/daily for info page.
 * For generate_abstracts - an option to only update one abstract.
 * Show all items in a subject view count, not just those in the
  current subject.
 -  Way to reload config without offlining server.
 *  Browse on "name" fields
 * testing to see if "dom" is set in generate_views seems kinda pointless.
 * Make entire search page a phrase so that it can be configured. eg.
  &buttons; &results; etc.
 * Subject-editors (editors can only edit within certain subjects/search)
 * Alerts for editors about things they can edit (flag in User fields?)
 * GDOME nice tostring
 *  Add option to supress empty subjects in browse views.
 * Need a "Last Changed" datestamp. Always set in commit. (On ALL
         dataobj types?)
 * Hide ID for non-staff option for has-id fields
 *  Time stamp views [optionally] - done but not an option
 * Make EPrint->new_from_data work the same as document, eprint etc.
   [well, it does need the dataset]
 * Deposit now/Deposit Later page as last part of normal 
  sumbission.
 * Staff User info to show user subscriptions (maybe edit?)
 * Make "Submit Later" option on submit form final page.
 * No Submission Buffer option.
 * <ep:ifequal> and <ep:ifnotequal> tools for citations.
 * MD5 digest all documents.
 * 404 hooks
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 * sort out name filtering and exact name matches
 * Make losing lineage & bits & swaping name order a fielddefault property
 * validate at each metadata page (for either or types)
 * Field Property: 'id required' - If main bit is set then ID *must* 
    be set. Otherwise lax.*** Nah, do it with field validation instead ***
 * Make Hide Lineage/Honourific a field property. per field.

 
 * Deprecate temporary tables and just make oneshot_cache the 
    default?
 - Improve name search syntax (?)
 + Munge umlauts etc when searching names. [ part of new indexer? ]
 * Merge int/name/text searches, general merge?
