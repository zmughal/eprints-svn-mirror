#!/usr/bin/perl -w

######################################################################
#
#  Generate a static page using the HTML from the site code
#
#   Usage:  make_page <title> <contentfile>
#
######################################################################

use EPrints::HTMLRender;
use EPrints::Session;

if( $#ARGV != 1 )
{
	die "Usage: make_page <title> <contentfile>\n";
}

my $ok = open( INFILE, $ARGV[1] );

if( $ok )
{
	my $session = EPrints::Session->new( 1 );

	print $session->{render}->start_html( $ARGV[0] );

	while( <INFILE> )
	{
		print;
	}

	print $session->{render}->end_html();

	$session->terminate();

	close( INFILE );
}
else
{
	die "Unable to open $ARGV[1]: $!\n";
}

